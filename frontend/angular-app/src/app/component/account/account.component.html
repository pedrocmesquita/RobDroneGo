<div class="user-info-container" *ngIf="currentUser">
  <div class="user-info">
    <h2>User Information</h2>
    <div>
      <span class="label">First Name:</span>{{ currentUser.firstName }}
    </div>
    <div>
      <span class="label">Last Name:</span>{{ currentUser.lastName }}
    </div>
    <div>
      <span class="label">Email:</span>{{ currentUser.email }}
    </div>
    <div>
      <span class="label">Role:</span>{{ currentUser.role }}
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <div class="download-info-container">
      <button class="download-info-btn" (click)="downloadInfo()">Download info</button>
    </div>

  </div>

  <div class="edit-account">
    <h2>Edit Account</h2>
    <form [formGroup]="accountForm" (ngSubmit)="updateAccount()">
      <div>
        <label for="firstName">First Name: </label>
        <input type="text" id="firstName" formControlName="firstName" />
      </div>
      <div>
        <label for="lastName">Last Name: </label>
        <input type="text" id="lastName" formControlName="lastName" />
      </div>
      <div>
        <label for="email">Email: </label>
        <span>{{ currentUser.email }}</span>
      </div>
      <div>
        <label for="selectedRole">Role: </label>
        <select id="selectedRole" name="selectedRole" formControlName="selectedRole">
          <option value="" disabled>Select a role</option>
          <option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</option>
        </select>
      </div>
      <div>
        <label for="currentPassword">Current Password: </label>
        <input type="password" id="currentPassword" formControlName="currentPassword" />
      </div>
      <div>
        <label for="newPassword">New Password: </label>
        <input type="password" id="newPassword" formControlName="newPassword" />
      </div>
      <div>
        <label for="confirmPassword">Confirm New Password: </label>
        <input type="password" id="confirmPassword" formControlName="confirmPassword" />
      </div>

    </form>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <div class="edit-account-container">
      <button class="edit-account-btn" (click)="updateAccount()">Edit account</button>
    </div>
  </div>

  <div class="delete-account">
    <h2>Delete account</h2>
    <div>
      <p>Deleting your account will remove all of your</p>
      <p>information from our database. This action cannot</p>
      <p>be undone.</p>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <div class="delete-account-container">
      <button class="delete-account-btn" (click)="deleteAccount()">Delete account</button>
    </div>
  </div>
</div>

<div class="user-not-logged-in" *ngIf="!currentUser">
  <p>User is not logged in. Please log in to view account information.</p>
</div>
