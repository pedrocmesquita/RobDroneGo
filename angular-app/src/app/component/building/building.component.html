<div class="building-container">
  <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>
  <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
  <h1>Create Building</h1>
  <form (ngSubmit)="createBuilding()">
    <input [(ngModel)]="newBuilding.buildingId" name="buildingId" placeholder="ID">
    <input [(ngModel)]="newBuilding.buildingName" name="buildingName" placeholder="Name">
    <input [(ngModel)]="newBuilding.buildingDescription" name="buildingDescription" placeholder="Description">
    <label>Number of Floors</label>
    <select name="buildingNumberOfFloors" [(ngModel)]="newBuilding.buildingNumberOfFloors">
      <option *ngFor="let number of floorOptions" [value]="number">{{ number }}</option>
    </select>
    <label>Dim X</label>
    <select name="dimX" [(ngModel)]="newBuilding.dimX">
      <option *ngFor="let number of dimensionOptions" [value]="number">{{ number }}</option>
    </select>
    <label>Dim Y</label>
    <select name="dimY" [(ngModel)]="newBuilding.dimY">
      <option *ngFor="let number of dimensionOptions" [value]="number">{{ number }}</option>
    </select>
    <label>Wall Height</label>
    <select name="wallHeight" [(ngModel)]="newBuilding.wallHeight">
      <option *ngFor="let number of wallOptions" [value]="number">{{ number }}</option>
    </select>
    <label>Wall Width</label>
    <select name="wallWidth" [(ngModel)]="newBuilding.wallWidth">
      <option *ngFor="let number of wallOptions" [value]="number">{{ number }}</option>
    </select>
    <button type="submit">Create Building</button>
  </form>

  <input [(ngModel)]="filterText" placeholder="Filter by ID">
  <button (click)="filterBuildings()">Filter</button>

  <table>
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Number of Floors</th>
      <th>Description</th>
      <th>Dim X</th>
      <th>Dim Y</th>
      <th>Wall Height</th>
      <th>Wall Width</th>
      <th>Floors</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let building of filteredBuildings">
      <td>{{ building.buildingId }}</td>
      <td><input [(ngModel)]="building.buildingName" placeholder="Name"></td>
      <td><input [(ngModel)]="building.buildingNumberOfFloors" placeholder="Number of Floors"></td>
      <td><input [(ngModel)]="building.buildingDescription" placeholder="Description"></td>
      <td><input [(ngModel)]="building.dimX" placeholder="Dimension X"></td>
      <td><input [(ngModel)]="building.dimY" placeholder="Dimension Y"></td>
      <td><input [(ngModel)]="building.wallHeight" placeholder="Wall Height"></td>
      <td><input [(ngModel)]="building.wallWidth" placeholder="Wall Width"></td>
      <td>
        <div *ngFor="let floor of building.floors" class="floor-div">
          Floor Id: {{ floor.floorId }}
          <div *ngFor="let connections of floor.connections" class="connection-div">
            Connection Id: {{ connections.connectionId }}, Origin: {{ connections.floorfromId }},
            Destination: {{ connections.floortoId }}
          </div>
          <div *ngFor="let room of floor.rooms" class="room-div">
            Room Id: {{ room.roomId }}
          </div>
          <div *ngFor="let elevators of floor.elevators" class="elevator-div">
            Elevator Id: {{ elevators.elevatorId }}, Floors Attended: {{ elevators.floorsAttended }},
            Current Floor: {{ elevators.currentFloor }}
          </div>
        </div>
      </td>
      <td><button (click)="editBuilding(building)">Edit Building</button></td>
    </tr>
    </tbody>
  </table>
</div>
